function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass(n,e,a){return e&&_defineProperties(n.prototype,e),a&&_defineProperties(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}var UserMenuWidget=function(){"use strict";function n(n){var e=n.default;if("function"==typeof e){var a=function(){return e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(n).forEach((function(e){var r=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(a,e,r.get?r:{enumerable:!0,get:function(){return n[e]}})})),a}!function(n,e){void 0===e&&(e={});var a=e.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css","top"===a&&r.firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}}('.user-menu__coins {\n  --andes-spacing-24: 24px;\n  --andes-spacing-20: 20px;\n  --andes-spacing-16: 16px;\n  --andes-spacing-12: 12px;\n  --andes-spacing-8: 8px;\n  --andes-spacing-4: 4px;\n  --andes-blue-500: #3483fa;\n  --andes-blue-100: rgb(71, 154, 209, 0.1);\n  --andes-green-500: #00a650;\n  --andes-green-10: rgba(0, 166, 80, 0.1);\n  --andes-red-500: #f23d4f;\n  --andes-red-100: rgba(242, 61, 79, 0.1);\n  --andes-gray-040-solid: #F5F5F5;\n  --andes-gray-900: #1a1a1a;\n  --andes-gray-100: rgba(0, 0, 0, 0.1);\n  --andes-gray-550: #737373;\n  --font-weight-regular: 400;\n  --font-weight-semibold: 600;\n  --font-size-14: 14px;\n  --font-size-12: 12px;\n}\n\n.user-menu__coins {\n  margin: var(--andes-spacing-12) var(--andes-spacing-16);\n  background: var(--andes-gray-040-solid);\n  border-radius: 20px;\n}\n\n.user-menu__coins ul {\n  padding: 0;\n}\n\n#nav-header-menu .user-menu__coins label > .user-menu__coins-main {\n  display: flex;\n  align-items: center;\n  margin: 0;\n  padding: 11px var(--andes-spacing-12) 11px var(--andes-spacing-16);\n  cursor: auto;\n  justify-content: space-around;\n}\n\n#nav-header-menu .user-menu__one-column .user-menu__coins .user-menu__coins-main-link {\n  display: flex;\n  align-items: center;\n  margin: 0;\n  padding: 0;\n  cursor: auto;\n}\n\n#nav-header-menu .user-menu__coins .user-menu__coins-main-link.user-menu__coins-link-label {\n  color: var(--andes-blue-500);\n  font-weight: var(--font-weight-regular);\n  font-size: var(--font-size-12);\n  line-height: 15px;\n  margin-left: 50px;\n  padding: 0 0 var(--andes-spacing-12);\n}\n\n#nav-header-menu .user-menu__one-column .user-menu__coins .user-menu__coins-main-item {\n  display: flex;\n  align-items: center;\n  margin: 0;\n  padding: 11px var(--andes-spacing-12) 11px var(--andes-spacing-16);\n  cursor: auto;\n}\n\n#nav-header-menu .user-menu__one-column .user-menu__coins .user-menu__coins-main-item.user-menu__coins-main-item-padding {\n  padding: 8px var(--andes-spacing-12) 10px var(--andes-spacing-16);\n}\n\n#nav-header-menu .user-menu__one-column .user-menu__coins .user-menu__coins-main-cursor {\n  cursor: pointer;\n}\n\n.user-menu__coins-icon-title {\n  margin-right: 11px;\n  width: var(--andes-spacing-24);\n  height: var(--andes-spacing-24);\n  align-self: center;\n}\n\n.user-menu__coins-icon-item {\n  align-self: flex-start;\n  margin-right: 13px;\n  width: var(--andes-spacing-20);\n  height: var(--andes-spacing-20);\n}\n\n.user-menu__user-badge-email__chevron.user-menu__coins-title__chevron {\n  color: var(--andes-gray-550);\n  transform: rotate(135deg);\n  position: absolute;\n  top: -2px;\n  right: var(--andes-spacing-4);\n  transition: all 0.195s;\n}\n\n.user-menu__coins-title {\n  font-size: var(--font-size-14);\n  color: var(--andes-gray-900);\n  margin: 0;\n  font-weight: var(--font-weight-semibold);\n  line-height: 18px;\n  display: flex;\n}\n\n.user-menu__coins-title-weight {\n  font-weight: var(--font-weight-regular);\n  font-size: var(--font-size-12);\n  line-height: 15px;\n}\n\n.user-menu__coins-item {\n  width: 100%;\n}\n\n.user-menu__coins-item-container-title {\n  width: 100%;\n  justify-content: space-between;\n  display: flex;\n  align-items: baseline;\n  position: relative;\n}\n\n.user-menu__coins-super-index {\n  font-size: 9px;\n  line-height: 14px;\n  margin-left: 1px;\n}\n\n.user-menu__coins-container-item-info {\n  display: flex;\n  width: 100%;\n  margin-top: 4px;\n}\n\n.user-menu__coins-percentage {\n  font-size: 11px;\n  padding: 0px 6px;\n  border-radius: var(--andes-spacing-8);\n  font-weight: var(--font-weight-semibold);\n  line-height: 11px;\n}\n\n.user-menu__coins-percentage-green {\n  color: var(--andes-green-500);\n  background: var(--andes-green-10);\n}\n\n.user-menu__coins-percentage-red {\n  color: var(--andes-red-500);\n  background: var(--andes-red-100);\n}\n\n.user-menu__coins-subtitle {\n  font-size: var(--font-size-12);\n  color: var(--andes-gray-550);\n  margin: 0;\n  font-weight: var(--font-weight-regular);\n  line-height: 15px;\n}\n\n.user-menu__coins-subtitle-info {\n  font-size: var(--font-size-14);\n  color: var(--andes-blue-500);\n  margin: 0;\n  font-weight: var(--font-weight-regular);\n  line-height: 18px;\n}\n\n#nav-header-menu .user-menu__one-column .user-menu__coins .user-menu__coins-main.user-menu__coins-main-kyc {\n  justify-content: space-between;\n  align-items: flex-start;\n  display: flex;\n  padding: 10px var(--andes-spacing-12) var(--andes-spacing-12) var(--andes-spacing-16);\n}\n\n.user-menu__coins-kyc-label {\n  color: var(--andes-blue-500);\n  font-weight: var(--font-weight-semibold);\n  font-size: var(--font-size-12);\n  line-height: 15px;\n  margin: 0;\n}\n\n.user-menu__user-badge-email__chevron.user-menu__user-badge-kyc {\n  color: var(--andes-blue-500);\n  margin: 4px 5px 0 0;\n}\n\n.user-menu__coins-container-list {\n  padding: 0;\n  max-height: 0;\n  opacity: 0;\n  overflow: hidden;\n  transition: all 0.195s;\n}\n\n#state:checked ~ .user-menu__coins-container-list {\n  max-height: 200px;\n  opacity: 1;\n  transition: all 0.225s;\n}\n\n#state:checked ~ label .user-menu__coins-title__chevron {\n  transform: rotate(-45deg);\n  top: 0;\n  transition: all 0.225s;\n}\n\n#nav-header-menu .user-menu__one-column .user-menu__coins .user-menu__shortcuts-separator {\n  margin: 0px;\n  border-top: 1px solid var(--andes-gray-100);\n}\n\n#nav-header-menu .user-menu__one-column .user-menu__shortcuts-separator.user-menu__shortcuts-separator-coin {\n  margin: 0px var(--andes-spacing-12) 0px var(--andes-spacing-16);\n}\n\n#nav-header-menu .nav-header-user-layer .user-menu__coins-main:hover,\n#nav-header-menu .nav-header-user-layer .user-menu__coins-link-label:hover,\n#nav-header-menu .nav-header-user-layer .user-menu__coins-main-item:hover {\n  background: transparent;\n}\n\n.hide-visually {\n  clip: rect(0 0 0 0);\n  border: 0;\n  -webkit-clip-path: inset(50%);\n  clip-path: inset(50%);\n  height: 1px;\n  margin: 0 -1px -1px 0;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n}\n\n.nav-header-user:before {\n  content: "";\n  opacity: 0;\n}\n\n.nav-header-user:hover:before {\n  content: "";\n  opacity: 1;\n}\n\n#nav-header-menu .nav-header-user-layer .user-menu__user-badge-email:hover {\n  background-color: transparent;\n}\n\n#nav-header-menu .nav-header-user-layer:focus {\n  outline: none;\n}\n\n.user-menu__user-badge-email__chevron {\n  border-style: solid;\n  border-width: 1.5px 1.5px 0 0;\n  display: inline-block;\n  height: 8px;\n  position: relative;\n  transform: rotate(45deg);\n  width: 8px;\n  color: rgba(0, 0, 0, 0.8);\n  margin: 6px 0 0 5px;\n  vertical-align: top;\n}\n\n@media (max-width: 1023px) {\n  #nav-header-menu .user-menu__main {\n    display: none;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu {\n    /* Overrides styles from old user menu */\n  }\n  #nav-header-menu .user-menu {\n    border: none;\n    border-radius: 2px;\n    background-color: #fff;\n    box-shadow: 0 15px 20px 0 rgba(0, 0, 0, 0.08), 0 1px 4px 0 rgba(0, 0, 0, 0.08);\n    padding: 0 0 0 270px;\n    width: 540px;\n    right: -120px;\n    min-height: 244px;\n    -webkit-font-smoothing: antialiased;\n    display: block;\n    z-index: 1014;\n  }\n  #nav-header-menu .user-menu::before, #nav-header-menu .user-menu::after {\n    content: none;\n  }\n  #nav-header-menu .user-menu .user-menu__chevron {\n    display: block;\n    position: absolute;\n    right: 60px;\n    bottom: 100%;\n    height: 18px;\n    width: 18px;\n    pointer-events: none;\n    border-bottom: 9px solid #fff;\n    border-left: 9px solid transparent;\n    border-right: 9px solid transparent;\n    box-sizing: border-box;\n  }\n  #nav-header-menu .user-menu--hidden {\n    display: none;\n  }\n  #nav-header-menu .user-menu {\n    right: -50px;\n  }\n  #nav-header-menu .user-menu::after {\n    right: 60px;\n  }\n  #nav-header-menu .user-menu .ui-button {\n    -webkit-tap-highlight-color: transparent;\n    appearance: none;\n    border: 0;\n    border-radius: 4px;\n    cursor: pointer;\n    display: block;\n    font-family: "Proxima Nova", -apple-system, "Helvetica Neue", Helvetica, "Roboto", Arial, sans-serif;\n    font-size: 18px;\n    font-weight: 300;\n    margin: 0;\n    outline: 0;\n    padding: 15px 32px;\n    text-align: center;\n    transition: background 0.1s ease-in, color 0.1s ease-in, border 0.1s ease-in;\n    width: 100%;\n  }\n  #nav-header-menu .user-menu .ui-button--small {\n    font-size: 14px;\n  }\n  #nav-header-menu .user-menu .ui-button--primary {\n    background: #3483fa;\n    padding: 15px 32px;\n  }\n  #nav-header-menu .user-menu .ui-button--primary, #nav-header-menu .user-menu .ui-button--primary:link, #nav-header-menu .user-menu .ui-button--primary:visited {\n    color: #fff;\n  }\n  #nav-header-menu .user-menu .ui-button--primary:focus {\n    background-color: rgba(52, 131, 250, 0.8);\n    color: #fff;\n  }\n  #nav-header-menu .user-menu .ui-button--primary:hover {\n    background-color: rgba(52, 131, 250, 0.8);\n    color: #fff;\n  }\n  #nav-header-menu .user-menu .ui-button--primary.ui-button--ripple-effect {\n    position: relative;\n    overflow: hidden;\n    transform: translateZ(0);\n    will-change: transform;\n    background-image: none;\n  }\n  #nav-header-menu .user-menu .ui-button--primary.ui-button--ripple-effect:after {\n    content: "";\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    background-image: radial-gradient(circle, #000 10%, transparent 10.01%);\n    background-position: center center;\n    background-size: 1000% 1000%;\n    background-repeat: no-repeat;\n    transition: background 0.5s cubic-bezier(0, 0, 0.2, 1), opacity 1.5s cubic-bezier(0, 0, 0.2, 1);\n    opacity: 0;\n    z-index: -1;\n  }\n  #nav-header-menu .user-menu .ui-button--primary.ui-button--ripple-effect:active:after {\n    background-size: 0% 0%;\n    transition: 0s;\n    opacity: 0.2;\n  }\n  #nav-header-menu .user-menu .ui-button--primary.ui-button--small {\n    padding: 11px 24px;\n  }\n  #nav-header-menu .user-menu .ui-button--primary.ui-button--disabled, #nav-header-menu .user-menu .ui-button--primary:disabled, #nav-header-menu .user-menu .ui-button--primary[disabled] {\n    pointer-events: none;\n    cursor: auto;\n    color: #999;\n    background-color: #e6e6e6;\n  }\n  #nav-header-menu .user-menu .ui-button--secondary {\n    background: none;\n    border: 1px solid #3483fa;\n    padding: 14px 31px;\n  }\n  #nav-header-menu .user-menu .ui-button--secondary, #nav-header-menu .user-menu .ui-button--secondary:link, #nav-header-menu .user-menu .ui-button--secondary:visited {\n    color: #3483fa;\n  }\n  #nav-header-menu .user-menu .ui-button--secondary:focus {\n    background-color: none;\n    color: rgba(52, 131, 250, 0.65);\n  }\n  #nav-header-menu .user-menu .ui-button--secondary:hover {\n    background-color: none;\n    color: rgba(52, 131, 250, 0.65);\n  }\n  #nav-header-menu .user-menu .ui-button--secondary, #nav-header-menu .user-menu .ui-button--secondary:link, #nav-header-menu .user-menu .ui-button--secondary:visited {\n    border: 1px solid #3483fa;\n  }\n  #nav-header-menu .user-menu .ui-button--secondary:focus {\n    border: 1px solid rgba(52, 131, 250, 0.65);\n  }\n  #nav-header-menu .user-menu .ui-button--secondary:hover {\n    border: 1px solid rgba(52, 131, 250, 0.65);\n  }\n  #nav-header-menu .user-menu .ui-button--secondary.ui-button--small {\n    padding: 10px 23px;\n  }\n  #nav-header-menu .user-menu .ui-button--secondary .ui-button--ripple-effect {\n    position: relative;\n    overflow: hidden;\n    transform: translateZ(0);\n    will-change: transform;\n    background-image: none;\n  }\n  #nav-header-menu .user-menu .ui-button--secondary .ui-button--ripple-effect:after {\n    content: "";\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    background-image: radial-gradient(circle, #3483fa 10%, transparent 10.01%);\n    background-position: center center;\n    background-size: 1000% 1000%;\n    background-repeat: no-repeat;\n    transition: background 0.5s cubic-bezier(0, 0, 0.2, 1), opacity 1.5s cubic-bezier(0, 0, 0.2, 1);\n    opacity: 0;\n    z-index: -1;\n  }\n  #nav-header-menu .user-menu .ui-button--secondary .ui-button--ripple-effect:active:after {\n    background-size: 0% 0%;\n    transition: 0s;\n    opacity: 0.2;\n  }\n  #nav-header-menu .user-menu .ui-button--secondary.ui-button--disabled, #nav-header-menu .user-menu .ui-button--secondary:disabled, #nav-header-menu .user-menu .ui-button--secondary[disabled] {\n    pointer-events: none;\n    cursor: auto;\n    color: #999;\n    background-color: transparent;\n    border-color: #ccc;\n  }\n  #nav-header-menu .user-menu .ui-button--tertiary {\n    background: none;\n    padding: 15px 32px;\n  }\n  #nav-header-menu .user-menu .ui-button--tertiary, #nav-header-menu .user-menu .ui-button--tertiary:link, #nav-header-menu .user-menu .ui-button--tertiary:visited {\n    color: #3483fa;\n  }\n  #nav-header-menu .user-menu .ui-button--tertiary:focus {\n    background-color: none;\n    color: rgba(52, 131, 250, 0.65);\n  }\n  #nav-header-menu .user-menu .ui-button--tertiary:hover {\n    background-color: none;\n    color: rgba(52, 131, 250, 0.65);\n  }\n  #nav-header-menu .user-menu .ui-button--tertiary.ui-button--small {\n    padding: 11px 24px;\n  }\n  #nav-header-menu .user-menu .ui-button--tertiary.ui-button--ripple-effect {\n    position: relative;\n    overflow: hidden;\n    transform: translateZ(0);\n    will-change: transform;\n    background-image: none;\n  }\n  #nav-header-menu .user-menu .ui-button--tertiary.ui-button--ripple-effect:after {\n    content: "";\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    background-image: radial-gradient(circle, #3483fa 10%, transparent 10.01%);\n    background-position: center center;\n    background-size: 1000% 1000%;\n    background-repeat: no-repeat;\n    transition: background 0.5s cubic-bezier(0, 0, 0.2, 1), opacity 1.5s cubic-bezier(0, 0, 0.2, 1);\n    opacity: 0;\n    z-index: -1;\n  }\n  #nav-header-menu .user-menu .ui-button--tertiary.ui-button--ripple-effect:active:after {\n    background-size: 0% 0%;\n    transition: 0s;\n    opacity: 0.2;\n  }\n  #nav-header-menu .user-menu .ui-button--tertiary.ui-button--disabled, #nav-header-menu .user-menu .ui-button--tertiary:disabled, #nav-header-menu .user-menu .ui-button--tertiary[disabled] {\n    pointer-events: none;\n    cursor: auto;\n    color: #999;\n    background-color: transparent;\n  }\n  #nav-header-menu .user-menu .ui-button {\n    line-height: 1;\n  }\n}\n@media (min-width: 1024px) and (min-width: 768px) {\n  #nav-header-menu .user-menu .ui-button {\n    display: inline-block;\n    width: auto;\n    min-width: 142px;\n  }\n  #nav-header-menu .user-menu .ui-button.ui-button--small {\n    display: inline-block;\n    width: auto;\n    min-width: 108px;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .ui-loading--inline {\n    position: relative;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .ui-loading--block {\n    position: absolute;\n    z-index: 7;\n  }\n  #nav-header-menu .user-menu .ui-loading--block .ui-loading__container {\n    z-index: 8;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .ui-loading--fullscreen {\n    position: fixed;\n    z-index: 1022;\n  }\n  #nav-header-menu .user-menu .ui-loading--fullscreen .ui-loading__container {\n    z-index: 1023;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .ui-loading--block,\n#nav-header-menu .user-menu .ui-loading--fullscreen,\n#nav-header-menu .user-menu .ui-loading__mask {\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .ui-loading--block .ui-loading__container,\n#nav-header-menu .user-menu .ui-loading--fullscreen .ui-loading__container {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .ui-loading__mask {\n    position: absolute;\n    background-color: rgba(255, 255, 255, 0.9);\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .ui-loading--inline .ui-loading__mask {\n    display: none;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .ui-loading__spinner {\n    width: 32px;\n    height: 32px;\n    animation: loading-rotate 2s linear infinite;\n    transform-origin: center center;\n    position: relative;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .ui-loading__spinner--small {\n    width: 32px;\n    height: 32px;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .ui-loading__spinner--large {\n    width: 64px;\n    height: 64px;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .ui-loading__spinner-path {\n    stroke-dasharray: 89, 200;\n    stroke-dashoffset: -10;\n    animation: loading-dash 1.5s ease-in-out infinite, loading-color 6s ease-in-out infinite;\n    stroke-linecap: round;\n    stroke: #3483fa;\n  }\n}\n@media (min-width: 1024px) {\n  @keyframes loading-rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n}\n@media (min-width: 1024px) {\n  @keyframes loading-dash {\n    0% {\n      stroke-dasharray: 1, 200;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 89, 200;\n      stroke-dashoffset: -35px;\n    }\n    100% {\n      stroke-dasharray: 89, 200;\n      stroke-dashoffset: -124px;\n    }\n  }\n}\n@media (min-width: 1024px) {\n  @keyframes loading-color {\n    100%, 0% {\n      stroke: #3483fa;\n    }\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__shortcuts {\n    padding: 14px 0;\n    list-style: none;\n  }\n  #nav-header-menu .user-menu .user-menu__shortcuts a {\n    margin: 0;\n    padding: 14px 24px;\n    font-size: 16px;\n    line-height: 1.25;\n    text-align: left;\n    color: #333;\n  }\n  #nav-header-menu .user-menu .user-menu__shortcuts a:hover {\n    background-color: #f5f5f5;\n  }\n  #nav-header-menu .user-menu .user-menu__shortcuts.without-loyalty a {\n    padding-top: 14px;\n    padding-bottom: 14px;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__user-info-outer-container {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 270px;\n    height: 100%;\n    border-right: solid 1px #eee;\n    margin: 0;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__user-info-inner-container {\n    text-align: center;\n    height: 100%;\n    position: relative;\n  }\n  #nav-header-menu .user-menu .user-menu__user-info-inner-container .user-menu__primary-action {\n    display: inline-block;\n  }\n  #nav-header-menu .user-menu .user-menu__user-info-inner-container .user-menu__user-pill {\n    height: 35px;\n    padding-left: 77px;\n    padding-right: 8px;\n  }\n  #nav-header-menu .user-menu .user-menu__user-info-inner-container .user-menu__user-pill:hover {\n    background-color: #fff;\n  }\n  #nav-header-menu .user-menu .user-menu__user-info-inner-container .user-menu__user-pill-anchor {\n    padding: 0px;\n    margin: 0px;\n  }\n  #nav-header-menu .user-menu .user-menu__user-info-inner-container .user-menu__user-pill-anchor:hover {\n    background-color: #fff;\n  }\n  #nav-header-menu .user-menu .user-menu__user-info-inner-container .user-menu__user-pill-image {\n    width: 100%;\n  }\n  #nav-header-menu .user-menu .user-menu__user-info-inner-container .user-menu__user-pill-image:hover {\n    background-color: #fff;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__primary-action {\n    width: 214px;\n    padding-top: 8px;\n    padding-bottom: 8px;\n    font-size: 14px;\n    font-weight: 600;\n    line-height: 1.38;\n    border-radius: 5px;\n    margin-top: 20px;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__loyalty-goal + .user-menu__primary-action {\n    margin-top: 10px;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__user-badge {\n    position: absolute;\n    top: 55%;\n    transform: translateY(-50%);\n    left: 0;\n    width: 100%;\n  }\n  #nav-header-menu .user-menu .user-menu__user-badge p:last-child {\n    margin-bottom: 0;\n  }\n  #nav-header-menu .user-menu .user-menu__user-badge.user-menu__user-badge--center {\n    top: 50%;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__user-badge-image {\n    width: 68px;\n    height: 68px;\n    margin: 0 auto 20px auto;\n    position: relative;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__avatar-form,\n#nav-header-menu .user-menu .user-menu__avatar-picture,\n#nav-header-menu .user-menu .user-menu__avatar-label {\n    width: 100%;\n    height: 100%;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__avatar-form,\n#nav-header-menu .user-menu .user-menu__avatar-control {\n    position: relative;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__avatar-control {\n    visibility: hidden;\n    z-index: -1;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__avatar-label,\n#nav-header-menu .user-menu .user-menu__avatar-picture,\n#nav-header-menu .user-menu .user-menu__avatar-loading .ui-loading__mask {\n    border-radius: 50%;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__avatar-picture {\n    border: solid 1px rgba(0, 0, 0, 0.07);\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__avatar-loading .ui-loading__container {\n    bottom: 0;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__avatar-loading .ui-loading__mask {\n    box-shadow: 0 0 1px 1px rgba(255, 255, 255, 0.9);\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__avatar-label {\n    display: inline-block;\n    cursor: pointer;\n  }\n  #nav-header-menu .user-menu .user-menu__avatar-label:hover .user-menu__avatar-text {\n    display: inline-block;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__avatar-text {\n    background-color: rgba(52, 131, 250, 0.9);\n    box-shadow: 0 0 1px 1px rgba(52, 131, 250, 0.9);\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border-radius: 50%;\n    font-size: 14px;\n    line-height: 17px;\n    padding: 17px 5px 0;\n    font-weight: 600;\n    color: #fff;\n    display: none;\n    white-space: normal;\n    z-index: 1;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu svg.user-menu__user-icon {\n    width: 68px;\n    height: 68px;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu svg.user-menu__user-progress {\n    width: 98px;\n    height: 98px;\n    position: absolute;\n    bottom: -12px;\n    right: -12px;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu--level-1 .progress {\n    stroke: #20c261;\n    color: #20c261;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu--level-2 .progress {\n    stroke: #1ac2b0;\n    color: #1ac2b0;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu--level-3 .progress {\n    stroke: #00a4d5;\n    color: #00a4d5;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu--level-4 .progress {\n    stroke: #4063ea;\n    color: #4063ea;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu--level-5 .progress {\n    stroke: #8700ff;\n    color: #8700ff;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu--level-6 .progress {\n    stroke: #a90f90;\n    color: #a90f90;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__loyalty-components {\n    width: 24px;\n    height: 24px;\n    border: solid 3px #fff;\n    border-radius: 50%;\n    position: absolute;\n    bottom: -6px;\n    right: -6px;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__user-badge-title {\n    font-size: 16px;\n    font-weight: 600;\n    line-height: 1.25;\n    color: rgba(0, 0, 0, 0.8);\n    margin: 0 0 6px 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__user-with-loyalty .user-menu__user-badge-title {\n    font-size: 14px;\n    line-height: 1.29;\n    font-weight: 400;\n    color: rgba(0, 0, 0, 0.45);\n    margin-bottom: 8px;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__user-badge-email {\n    font-size: 14px;\n    line-height: 1.29;\n    color: rgba(0, 0, 0, 0.45);\n    margin: 0 20px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    bottom: 6px;\n    padding-right: 0;\n    padding-left: 0;\n    border-radius: 10px;\n    user-select: text;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu a.user-menu__user-badge-email:hover {\n    background: #f5f5f5;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__user-with-loyalty .user-menu__user-badge-email {\n    font-size: 16px;\n    font-weight: 600;\n    line-height: 1.25;\n    color: rgba(0, 0, 0, 0.8);\n    display: block;\n    padding: 5px 15px;\n    width: 225px;\n    margin: 0 auto;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu .user-menu__loyalty-goal {\n    font-size: 14px;\n    width: 166px;\n    white-space: normal;\n    line-height: 1.2;\n    margin: 0 auto;\n    color: #999;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu__one-column {\n    padding-left: 0;\n    min-height: auto;\n    width: 304px;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__user-info-outer-container {\n    position: static;\n    border: none;\n    width: auto;\n    margin: 18px 0;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__user-badge-image {\n    width: 40px;\n    height: 40px;\n    margin: 0 12px 0 24px;\n    float: left;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__user-with-loyalty {\n    margin: 22px 0 0px;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__user-with-loyalty .user-menu__user-badge-image {\n    margin: 0 10px 0 23px;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__user-with-loyalty .user-menu__user-badge-title {\n    padding: 0 7px;\n    margin-bottom: 3px;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__user-with-loyalty .user-menu__user-badge-email {\n    border-radius: 6px;\n    padding: 5px 7px;\n    width: 208px;\n    margin: 0;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__user-badge-email, #nav-header-menu .user-menu__one-column .user-menu__user-badge-title {\n    padding: 0;\n    margin: 0;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__user-badge.user-menu__user-badge--center {\n    position: static;\n    transform: none;\n    text-align: left;\n  }\n  #nav-header-menu .user-menu__one-column svg.user-menu__user-progress {\n    width: 58px;\n    height: 58px;\n    bottom: -6px;\n    right: -6px;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__shortcuts a, #nav-header-menu .user-menu__one-column .user-menu__shortcuts.without-loyalty a {\n    font-size: 14px;\n    padding: 8px 24px;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__shortcuts-separator {\n    border-top: 1px solid #eeeeee;\n    margin: 8px 0;\n    display: block;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__shortcuts {\n    padding: 0 0 8px 0;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__loyalty-goal {\n    margin: 4px 23px 8px;\n    width: auto;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__user-badge p:last-child {\n    margin-bottom: 18px;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__avatar-text {\n    font-size: 8px;\n    line-height: 0.88;\n    padding-top: 14px;\n    text-align: center;\n  }\n  #nav-header-menu .user-menu__one-column .user-menu__shortcuts-tag {\n    background-color: #3483fa;\n    font-size: 11px;\n    font-weight: 600;\n    color: #ffffff;\n    border-radius: 8px;\n    text-align: center;\n    padding: 3px 6px;\n    text-transform: uppercase;\n    float: right;\n    line-height: 0.91;\n  }\n  #nav-header-menu .user-menu__one-column .ui-loading--block .ui-loading__container {\n    top: 45%;\n  }\n  #nav-header-menu .user-menu__one-column .ui-loading__spinner {\n    width: 28px;\n    height: 28px;\n  }\n}\n@media (min-width: 1024px) {\n  #nav-header-menu .user-menu__old {\n    display: none;\n  }\n}');var e={},a="".replace,r=/[&<>'"]/g,t=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,i={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},u={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'};function s(n){return i[n]}function o(n){return u[n]}var l=n(Object.freeze({__proto__:null,escape:function(n){return a.call(n,r,s)},unescape:function(n){return a.call(n,t,o)}})),d="MENU_TITLE",m="LINK",c="KYC",h="show",p="closed",g={singular:"peso",plural:"pesos"},_={singular:"centavo",plural:"centavos"},v=["BTC","ETH","USDP"],b=["ARS","BOB","BRL","CLF","CLP","COP","CRC","CUC","CUP","DOP","EUR","GTQ","HNL","MXN","NIO","PAB","PEN","PYG","USD","UYU","VEF","VES"],f={CURRENCY_SYMBOLS:["$","Bs","R$","UF","₡","CUC","€","Q","L","C$","B/.","S/","₲","U$S","Bs."],CURRENCY_IDS:[].concat(b,v),DEFAULT_CURRENCY_IDS:b,CURRENCY_SYMBOLS_BY_ID:{ARS:"$",BOB:"Bs",BRL:"R$",CLF:"UF",CLP:"$",COP:"$",CRC:"₡",CUC:"CUC",CUP:"$",DOP:"$",EUR:"€",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"₲",USD:"U$S",UYU:"$",VEF:"Bs.",VES:"Bs."},CURRENCY_TEXT_BY_SYMBOL:{$:g,Bs:{singular:"boliviano",plural:"bolivianos"},R$:{singular:"real",plural:"reales"},UF:{singular:"unidad de fomento",plural:"unidades de fomento"},"₡":{singular:"colón",plural:"colones"},CUC:g,"€":{singular:"euro",plural:"euros"},Q:{singular:"quetzal guatemalteco",plural:"quetzales guatemaltecos"},L:{singular:"lempira",plural:"lempiras"},C$:{singular:"córdoba",plural:"córdobas"},"B/.":{singular:"balboa",plural:"balboas"},"S/":{singular:"sol",plural:"soles"},"₲":{singular:"guaraní",plural:"guaraníes"},U$S:{singular:"dólar",plural:"dólares"},"Bs.":{singular:"bolívar",plural:"bolívares"}},CURRENCY_TEXT_BY_ID:{ARS:g,BOB:{singular:"boliviano",plural:"bolivianos"},BRL:{singular:"real",plural:"reales"},BTC:"bitcoins",CLF:{singular:"unidad de fomento",plural:"unidades de fomento"},CLP:g,COP:g,CRC:{singular:"colón",plural:"colones"},CUC:g,CUP:g,DOP:g,EUR:{singular:"euro",plural:"euros"},ETH:"ethereum",GTQ:{singular:"quetzal guatemalteco",plural:"quetzales guatemaltecos"},HNL:{singular:"lempira",plural:"lempiras"},MXN:g,NIO:{singular:"córdoba",plural:"córdobas"},PAB:{singular:"balboa",plural:"balboas"},PEN:{singular:"sol",plural:"soles"},PYG:{singular:"guaraní",plural:"guaraníes"},USD:{singular:"dólar",plural:"dólares"},USDP:"USDP Stablecoin",UYU:g,VEF:{singular:"bolívar",plural:"bolívares"},VES:{singular:"bolívar",plural:"bolívares"}},CENTS_TEXT_BY_SYMBOL:{$:_,Bs:_,R$:_,UF:_,"₡":{singular:"céntimo",plural:"céntimos"},CUC:_,"€":_,Q:_,L:_,C$:_,"B/.":{singular:"centésimo",plural:"centésimos"},"S/":{singular:"céntimo",plural:"céntimos"},"₲":{singular:"céntimo",plural:"céntimos"},U$S:_,"Bs.":_},CENTS_TEXT_BY_ID:{ARS:_,BOB:_,BRL:_,CLF:_,CLP:_,COP:_,CRC:{singular:"céntimo",plural:"céntimos"},CUC:_,CUP:_,DOP:_,EUR:_,GTQ:_,HNL:_,MXN:_,NIO:_,PAB:{singular:"centésimo",plural:"centésimos"},PEN:{singular:"céntimo",plural:"céntimos"},PYG:{singular:"céntimo",plural:"céntimos"},USD:_,UYU:{singular:"centésimo",plural:"centésimos"},VEF:_,VES:_},DEFAULT_CURRENCY_SYMBOL:"$",DEFAULT_CURRENCY_SYMBOL_TEXT:g,DEFAULT_CENTS_TEXT:_,CRYPTO_CURRENCY_IDS:v},x=l.escape,y=d,w=m,k=c,E=f.DEFAULT_CENTS_TEXT,C=f.CURRENCY_TEXT_BY_SYMBOL,S=function(n){return'\n  <div class="user-menu__loyalty-components">\n    '.concat(function(n){var e=!Number.isNaN(n.percentage)&&Number.isFinite(n.percentage)?(250*n.percentage).toFixed(0):250,a='<path class="progress" stroke-linecap="round" stroke-width="4" \n  percentage="60" stroke-dasharray="'.concat(e,',999" \n  fill="none" d="M50 10 a 40 40 0 0 1 0 80 a 40 40 0 0 1 0 -80"></path>');return'\n    <svg class="user-menu__user-progress user-menu--level-'.concat(n.level,'" viewBox="0 0 100 100">\n        <path class="base" stroke-linecap="round" stroke-width="4" stroke="#eee" fill="none" d="M50 10\n            a 40 40 0 0 1 0 80\n            a 40 40 0 0 1 0 -80">\n        </path>\n        ').concat(e>0?a:"","\n    </svg>\n  ")}(n),"\n  </div>\n")},L=function(n,e,a,r,t,i,u,s){var o,l=a&&(a.target||u.filter((function(n){return"points"===n.id}))[0].target),d=e?'<p class="user-menu__user-badge-email">'.concat(e,"</p>"):"",m=a?'<a href="'.concat(l,'#menu-user" class="user-menu__user-badge-email">\n      ').concat(a.full_level_name||a.level_name,'<span class="user-menu__user-badge-email__chevron"></span>\n    </a>'):"",c=n?'<a href="'.concat(n.target,'#menu-user" \n    class="user-menu__primary-action ui-button ui-button--primary" data-id="').concat(n.id,'" rel="nofollow">\n    ').concat(n.label,"\n    </a>"):"",h=a&&a.drawer&&a.drawer.image&&a.drawer.alt&&a.drawer.link;return'\n    <div class="user-menu__user-info-outer-container'.concat(a?" user-menu__user-with-loyalty":"",'">\n      <div class="user-menu__user-info-inner-container">\n        <div class="user-menu__user-badge').concat(n?"":" user-menu__user-badge--center",'">\n          <div class="user-menu__user-badge-image">\n            ').concat(function(n,e,a,r){return"\n  ".concat(a?S(a):"","\n  ").concat(n?function(n,e,a){var r="",t="one-column"===a?40:68;return r=n.url?'src="'.concat(n.url,'" \n    srcset="').concat(n.url.replace("-S.","-G.").replace("-M.","-S."),' 2x" alt="').concat(n.action_label,'"'):"hidden",'\n    <form data-js="user-menu:avatar-form" method="POST" \n    action="'.concat(e,'" enctype="multipart/form-data" class="user-menu__avatar-form">\n      <label class="user-menu__avatar-label">\n        <span class="user-menu__avatar-text">').concat(n.action_label,"</span>\n        ").concat(n.url?"":function(n){return'\n  <span data-js="user-menu:avatar-icon">\n    <svg width="'.concat(n,'" height="').concat(n,'" viewBox="0 0 40 40">\n      <path fill-opacity=".25" fill-rule="evenodd" d="M20 0c11.046 0 20 8.954 20 20s-8.954 20-20 20S0 31.046 0 20 8.954 0 20 0zm0 1.5C9.783 1.5 1.5 9.783 1.5 20S9.783 38.5 20 38.5 38.5 30.217 38.5 20 30.217 1.5 20 1.5zM29.75 25v2.25H32v1.5h-2.25V31h-1.5v-2.25H26v-1.5h2.25V25h1.5zM26 24.25v1.5H13.98c-1.178 0-2.143.914-2.224 2.071l-.006.16v.75h-1.5v-.75c0-1.994 1.564-3.623 3.532-3.726l.198-.005H26zM19.999 9.248c3.728 0 6.751 3.023 6.751 6.751s-3.023 6.751-6.751 6.751-6.751-3.023-6.751-6.751 3.023-6.751 6.751-6.751zm0 1.5c-2.9 0-5.251 2.351-5.251 5.251 0 2.9 2.351 5.251 5.251 5.251 2.9 0 5.251-2.351 5.251-5.251 0-2.9-2.351-5.251-5.251-5.251z"/>\n    </svg>\n  </span>\n')}(t),'\n        <img data-js="user-menu:avatar-picture" ').concat(r,' class="user-menu__avatar-picture" />\n        <input data-js="user-menu:avatar-control" name="file" type="file" \n        class="user-menu__avatar-control" accept="image/jpeg,.jpg,image/gif,.gif,image/png,.png,.jpeg,image/webp,.webp">\n      </label>\n    </form>\n  ')}(n,e,r):"","\n")}(r,i,a,s),'\n          </div>\n          <p class="user-menu__user-badge-title">').concat(t,"</p>\n          ").concat(a?m:d,"\n          ").concat(a?(o=a,o.goal?'<p class="user-menu__loyalty-goal">'.concat(o.goal,"</p>"):""):"","\n          ").concat(c,"\n        </div>\n        ").concat(h?'<div class="user-menu__user-pill">\n              <a href="'.concat(a.drawer.link,'" class="user-menu__user-pill-anchor">\n                <img src="').concat(a.drawer.image,'" \n                alt="').concat(a.drawer.alt,'" decoding="async" class="user-menu__user-pill-image"/>\n              </a>\n            </div>'):"","\n    </div>\n  </div>\n  ")},T=function(n,e){switch(n){case y:return'<a class="user-menu__coins-main user-menu__coins-main-cursor">\n        <img src='.concat(e.icon,' alt=""\n        class="user-menu__coins-icon-title">\n        <span class="user-menu__coins-item user-menu__coins-item-container-title">\n          <span class="user-menu__coins-title">').concat(e.label,'</span>\n          <span class="user-menu__user-badge-email__chevron user-menu__coins-title__chevron"></span>\n        </span>\n      </a>\n      ');case k:return'<div id="user-menu__coins-kyc">\n        <span class="user-menu__shortcuts-separator"></span>\n        <a href='.concat(e.target||"#",' class="user-menu__coins-main user-menu__coins-main-kyc\n        ').concat(e.target?"user-menu__coins-main-cursor":"",'">\n          <span class="user-menu__coins-kyc-label">').concat(e.label,'</span>\n          <span class="user-menu__user-badge-email__chevron user-menu__user-badge-kyc"></span>\n        </a>\n      </div>\n    ');case w:return'<a id="user-menu__coins-mp" href='.concat(e.target||"#",' class="user-menu__coins-main-link\n      user-menu__coins-link-label ').concat(e.target?"user-menu__coins-main-cursor":"",'">\n        ').concat(e.label,"\n        </a>\n      ");default:return null}},U=function(n){return"\n  ".concat(n.map((function(n,e){var a=n.id,r=n.icon,t=n.label,i=n.target,u=n.symbol,s=n.balance,o=n.exchange,l=n.exchange_rate,d=n.variation,m=n.action,c=function(n,e,a){var r=C[n],t=1===parseInt(e,10)?"".concat(e," ").concat(r.singular):"".concat(e," ").concat(r.plural);return a&&(t+=" con ".concat(a," ").concat(E.plural)),t}(u,s.units,s.cents),h=l&&o.label&&d,p=h?function(n,e,a){var r=C[e],t="".concat(a," ").concat(r.plural);return"".concat(n," ").concat(t)}(o.accessibility_label,u,l):null;return"<li key=".concat(a,'>\n        <span class="user-menu__shortcuts-separator ').concat(0!==e?"user-menu__shortcuts-separator-coin":"",'"></span>\n        <div class="user-menu__coins-main-item\n        ').concat(h?"user-menu__coins-main-item-padding":"","  ").concat(i?"user-menu__coins-main-cursor":"",'">\n          <img src=').concat(r,' alt="" class="user-menu__coins-icon-item">\n          <span class="user-menu__coins-item">\n            <span class="user-menu__coins-item-container-title">\n              <span class="user-menu__coins-title user-menu__coins-title-weight">').concat(t,'</span>\n              <span class="hide-visually">').concat(c,'</span>\n              <span class="user-menu__coins-title user-menu__coins-title-weight" aria-hidden="true">\n                <span>').concat(u," ").concat(s.units,"</span>\n                ").concat(s.cents?'<span class="user-menu__coins-super-index">'.concat(s.cents,"</span>"):"","\n              </span>\n            </span>\n            ").concat(h?'<span class="user-menu__coins-container-item-info">\n              <span class="hide-visually">'.concat(p,'</span>\n              <span class="hide-visually">').concat(d.accessibility_label,'</span>\n              <span class="user-menu__coins-subtitle" aria-hidden="true">\n                <span>').concat(o.label," ").concat(u," ").concat(l,'</span>\n                <span class="user-menu__coins-percentage\n                user-menu__coins-percentage-').concat(d.color,'">').concat(d.label,"</span>\n              </span>\n            </span>"):"","\n          </span>\n        </div>\n        ").concat(m?T(w,m):"","\n      </li>")})).join(""),"\n")};function B(n){var e=n.querySelectorAll("a[href]");return Array.prototype.slice.call(e)}e.userMenuTemplate=function(n,e){var a=n.primary_action,r=n.email,t=n.loyal,i=n.picture,u=n.shortcuts,s=n.title,o=n.uploadUrl,l=n.layout,d=n.mercado_pago,m=x(r||""),c=x(s||"");return'\n    <div class="user-menu__main">\n      '.concat(i||c||m?L(a,m,t,i,c,o,u,l):"","\n      ").concat(d?function(n){var e=n.title,a=n.coins,r=n.kyc;return'\n  <div class="user-menu__coins">\n    <input type="checkbox" id="state" hidden>\n    <label for="state">\n      '.concat(T(y,e),'\n    </label>\n    <div class="user-menu__coins-container-list">\n      <ul>\n        ').concat(U(a),"\n      </ul>\n      ").concat(r?T(k,r):"","\n    </div>\n  </div>\n")}(d):"","\n      ").concat(function(n,e){return'\n  <ul class="user-menu__shortcuts '.concat(e?"":"without-loyalty",'">\n    ').concat(n.map((function(n){var e=n.id,a=n.label,r=n.target,t=n.tag,i=n.is_section;return"points"!==e?"<li>"+"".concat(i?'<span class="user-menu__shortcuts-separator"></span>':"",'\n                  <a href="').concat(r,'#menu-user" data-id="').concat(e,'" rel="nofollow">\n                    ').concat(a,"\n                    ").concat(t?'<span class="user-menu__shortcuts-tag">'.concat(t,"</span>"):"","\n                  </a>\n            </li>"):null})).join(""),"\n  </ul>\n")}(u,t),'\n    </div>\n    <div class="user-menu__old">\n      ').concat(e,'\n    </div>\n    <span class="user-menu__chevron"></span>\n')},e.loadingTemplate=function(){return'\n  <div data-js="user-menu:avatar-loading" class="user-menu__avatar-loading ui-loading ui-loading--block">\n    <div class="ui-loading__container">\n      <svg class="ui-loading__spinner" viewBox="25 25 50 50">\n        <circle class="ui-loading__spinner-path" \n        cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle>\n      </svg>\n    </div>\n    <div class="ui-loading__mask"></div>\n  </div>\n'};var z=function(n,e,a){9===n.keyCode&&(n.shiftKey?document.activeElement!==e&&document.activeElement!==e.querySelector("a[href]")||(n.preventDefault(),a.focus()):document.activeElement===a&&(n.preventDefault(),e.querySelector("a[href]").focus()))},P=function(n){var e=B(n);return e[e.length-1]},M=e.userMenuTemplate,R=e.loadingTemplate,N=z,A=P,O={common:{label:"Menú de usuario"},"pt-BR":{label:"Menu do usuário"}},D=h,q=p,I=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,n),!e.mainDomain)throw new Error("UserMenuWidget: missing main domain.");this.endpoint=e.endpoint||"//www.".concat(e.mainDomain,"/menu/user"),this.uploadEndpoint="".concat(this.endpoint,"/picture"),this.mymlUrl=e.myaccountUrl||"https://myaccount.".concat(e.mainDomain,"/summary"),this.triggerElement=e.triggerElement||document.querySelector("header .nav-header-user"),this.targetElement=e.targetElement||document.querySelector("header .nav-header-user-layer");var a=document.querySelector("header .nav-header-username");this.referenceElements={chevron:e.chevronReferenceElement||document.querySelector("header .nav-header-username-chevron"),rightLimit:e.rightLimitReferenceElement||document.querySelector("header .nav-icon-cart")||document.querySelector("header .option-help")||document.querySelector("header .nav-icon-notifications")},this.data=e.data||null;var r=document.getElementsByTagName("html")[0].getAttribute("lang"),t=O[this.siteId]?O[r].label:O.common.label;if(this.ariaLabelText="".concat(t,", ").concat(a?a.textContent:""),this.rightLimitOffset=0,this.avatarHeader=e.avatarHeaderElement||document.querySelector("[data-js='user-menu:nav-header-avatar-user']"),this.bus=e.bus||window.freya,this.tabIndex=e.tabIndex||0===e.tabIndex?e.tabIndex:null,!this.bus)throw new Error("UserMenuWidget: missing bus.");this.targetElement&&this.triggerElement&&this.avatarHeader?this.data&&this.data.layout?this.showMenu(this.data):this.fetchData():console.warn("UserMenuWidget: Did not find or get target, trigger or avatarHeader DOM elements for UserMenuWidget"),this.handleOutsideClick=this.handleOutsideClick.bind(this);var i=document.getElementById("state");return i&&i.addEventListener("click",this.handleClickUserMenuCoins.bind(this)),this.shown=!1,this.shouldBeClosed=!0,this.timeouts={show:null,hide:null},this}return _createClass(n,[{key:"handleClickUserMenuCoins",value:function(){var n=window.localStorage;n&&(n.getItem("userMenuCoins")===D?n.setItem("userMenuCoins",q):n.setItem("userMenuCoins",D))}},{key:"renderShowUserMenuCoins",value:function(){var n=window.localStorage,e=document.getElementById("state");n&&e&&n.getItem("userMenuCoins")===D&&(e.checked=!0)}},{key:"fetchData",value:function(){var n=this,e=new XMLHttpRequest;e.onload=function(){if(200===e.status){var a=e.response||e.responseText,r=JSON.parse(a),t=window.localStorage;t&&t.setItem("userMenuCoins",D),n.showMenu(r)}},e.open("GET",this.endpoint,!0),e.withCredentials=!0,e.send()}},{key:"showMenu",value:function(n){this.render(n),parseInt(window.getComputedStyle(this.triggerElement,":before").getPropertyValue("opacity"),10)&&this.show()}},{key:"render",value:function(n){var e=this.targetElement.innerHTML;n.uploadUrl=this.uploadEndpoint,this.targetElement.classList.add("user-menu--hidden"),this.targetElement.classList.add("user-menu"),n.layout&&(this.targetElement.classList.add("user-menu__".concat(n.layout)),"one-column"===n.layout&&(this.referenceElements.rightLimit=document.querySelector("header .option-purchases")||document.querySelector("header .option-help"),this.rightLimitOffset=20)),this.targetElement.setAttribute("tabindex","-1"),this.targetElement.setAttribute("hidden","hidden"),this.targetElement.setAttribute("aria-label",this.ariaLabelText),this.targetElement.setAttribute("aria-modal","true"),this.targetElement.setAttribute("role","dialog"),this.targetElement.model=n,this.targetElement.oldHTML=e,this.targetElement.innerHTML=M(this.targetElement.model,this.targetElement.oldHTML),this.addMyAccountLink(),this.avatarIcon=document.querySelector("[data-js='user-menu:avatar-icon']"),this.formAvatar=document.querySelector("[data-js='user-menu:avatar-form']"),this.avatarPicture=document.querySelector("[data-js='user-menu:avatar-picture']"),this.uploadControl=document.querySelector("[data-js='user-menu:avatar-control']");var a=this.targetElement.querySelector(".user-menu__main");this.firstTabStop=this.targetElement,this.lastTabStop=A(a),this.renderShowUserMenuCoins(),this.bindEvents()}},{key:"addMyAccountLink",value:function(){var n=this,e=document.querySelector("label[for='nav-header-user-switch']"),a=document.createElement("a");if(a.href=this.mymlUrl,a.className="nav-header-user-myml",a.ariaExpanded=!1,a.setAttribute("role","button"),a.setAttribute("aria-label",this.ariaLabelText),a.addEventListener("click",(function(n){n.preventDefault()})),a.addEventListener("keydown",this.showByKeyPress.bind(this)),null!=this.tabIndex&&(a.tabIndex=this.tabIndex),e){for(;e.childNodes.length>0;)a.appendChild(e.childNodes[0]);e.appendChild(a),e.addEventListener("click",(function(e){n.shown||e.preventDefault()}))}}},{key:"bindEvents",value:function(){var n=this;this.bus.on("user-menu:show",this.show.bind(this)),this.bus.on("user-menu:hide",this.hide.bind(this)),this.targetElement.addEventListener("click",(function(n){n.stopPropagation()})),this.triggerElement.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault(),n.shown||n.showTimer()})),this.triggerElement.addEventListener("mouseenter",(function(e){e.stopPropagation(),e.preventDefault(),n.shown||n.showTimer()})),this.targetElement.addEventListener("keydown",this.handleKeyDownTarget.bind(this)),[this.triggerElement,this.targetElement].forEach((function(e){e.addEventListener("mouseenter",n.hideTimerCleaner.bind(n))})),[this.triggerElement].forEach((function(e){e.addEventListener("mouseleave",n.handleMouseLeave.bind(n))})),this.formAvatar&&this.formAvatar.addEventListener("click",(function(){n.shouldBeClosed=!1})),this.uploadControl&&this.uploadControl.addEventListener("change",(function(){n.shouldBeClosed=!0,n.handleAvatarChange()}))}},{key:"show",value:function(){if(!this.shown){var n=this.triggerElement.querySelector(".nav-header-user-myml");this.bus.emit("user-menu:show:before"),n&&(n.ariaExpanded=!0,n.removeEventListener("keydown",this.showByKeyPress.bind(this))),this.updateMenuPosition(),this.targetElement.removeAttribute("hidden"),this.targetElement.classList.remove("user-menu--hidden"),this.targetElement.addEventListener("keydown",this.handleKeyDownTarget.bind(this)),this.shown=!0,this.targetElement.focus({preventScroll:!0}),document.addEventListener("click",this.handleOutsideClick.bind(this)),this.bus.emit("user-menu:show:after")}}},{key:"hide",value:function(){if(this.shown){var n=this.triggerElement.querySelector(".nav-header-user-myml");this.bus.emit("user-menu:hide:before"),n&&(n.ariaExpanded=!1,n.addEventListener("keydown",this.showByKeyPress.bind(this))),this.targetElement.setAttribute("hidden","hidden"),this.targetElement.classList.add("user-menu--hidden"),this.shown=!1,document.removeEventListener("click",this.handleOutsideClick.bind(this)),this.targetElement.removeEventListener("keydown",this.handleKeyDownTarget.bind(this)),this.bus.emit("user-menu:hide:after")}}},{key:"handleOutsideClick",value:function(n){this.triggerElement&&!this.triggerElement.contains(n.target)&&(this.shouldBeClosed=!0,this.hide())}},{key:"handleKeyDownTarget",value:function(n){this.handleKeyTrap(n),this.hideByEscaping(n)}},{key:"handleKeyTrap",value:function(n){N(n,this.firstTabStop,this.lastTabStop)}},{key:"handleMouseLeave",value:function(){this.showTimerCleaner(),this.hideTimer()}},{key:"hideTimer",value:function(){var n=this;this.timeouts.hide=window.setTimeout((function(){n.shouldBeClosed&&n.hide()}),250)}},{key:"hideTimerCleaner",value:function(){window.clearTimeout(this.timeouts.hide)}},{key:"showTimer",value:function(){var n=this;this.timeouts.show=window.setTimeout((function(){n.show()}),250)}},{key:"showByKeyPress",value:function(n){32!==n.keyCode&&13!==n.keyCode||(n.stopPropagation(),n.preventDefault(),this.shown||this.showTimer())}},{key:"hideByEscaping",value:function(n){27===n.keyCode&&this.shown&&(this.hideTimer(),this.triggerElement.querySelector(".nav-header-user-myml").focus())}},{key:"showTimerCleaner",value:function(){window.clearTimeout(this.timeouts.show)}},{key:"handleAvatarChange",value:function(){if(this.uploadControl.files.length>0){var n=this.uploadControl.files[0];this.showLoading(),this.sendAvatar(n)}}},{key:"updateAvatarTrigger",value:function(n){if(this.avatarHeader&&document){var e=document.createElement("img");e.className="nav-header-avatar-user-img",e.src=decodeURIComponent(n),this.avatarHeader.firstElementChild.remove(),this.avatarHeader.append(e)}}},{key:"showLoading",value:function(){this.formAvatar.insertAdjacentHTML("afterbegin",R())}},{key:"hideLoading",value:function(){var n=this.formAvatar.children[0];"user-menu:avatar-loading"===n.getAttribute("data-js")&&this.formAvatar.removeChild(n)}},{key:"onloadAvatar",value:function(n){this.updateAvatarTrigger(n),this.avatarPicture.removeAttribute("hidden"),this.avatarIcon&&this.avatarIcon.setAttribute("hidden","hidden"),this.hideLoading()}},{key:"sendAvatar",value:function(n){var e=this,a=new XMLHttpRequest;a.open("POST",this.uploadEndpoint,!0),a.onload=function(){var n=a.response||a.responseText;n=JSON.parse(n),200===a.status?(e.avatarPicture.src=n.picture_url,e.avatarPicture.srcset="".concat(n.picture_url.replace("-S.","-G.").replace("-M.","-S.")," 2x"),e.avatarPicture.onload=function(){return e.onloadAvatar(n.preview_url)},e.avatarPicture.onerror=function(){return e.hideLoading()},e.bus.emit("snackbar:show",{message:n.message,type:"success"})):(e.hideLoading(),e.bus.emit("snackbar:show",{message:n.message,type:"error"}))},a.onerror=function(){return e.hideLoading()},a.ontimeout=function(){return e.hideLoading()},a.timeout=3e4,a.withCredentials=!0,a.setRequestHeader("X-Requested-With","XMLHttpRequest");var r=document.querySelector('meta[name="csrf-token"]');r&&a.setRequestHeader("x-csrf-token",r.getAttribute("content"));var t=new FormData;t.append("file",n,n.name),a.send(t)}},{key:"updateMenuPosition",value:function(){var n=this,e=this.referenceElements.rightLimit,a=parseInt(window.getComputedStyle(e).getPropertyValue("padding-right"),10),r=!Number.isNaN(a)&&Number.isFinite(a),t=e.getBoundingClientRect().right-(r?a:0)+this.rightLimitOffset,i=this.triggerElement.getBoundingClientRect().right-t;this.targetElement.style.right="".concat(i,"px"),setTimeout((function(){return n.updateChevronPosition()}),0)}},{key:"updateChevronPosition",value:function(){var n=this.referenceElements.chevron.getBoundingClientRect(),e=[n.left+n.right]/2,a=this.triggerElement.getBoundingClientRect().right-e,r=document.querySelector(".user-menu__chevron");r&&(r.style.right="".concat((-parseInt(this.targetElement.style.right,10)+a-r.getBoundingClientRect().width/2).toFixed(),"px"))}}]),n}();return I}();
